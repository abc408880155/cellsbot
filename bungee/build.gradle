plugins {
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation project(':common')
    compileClasspath project(':common:loader-utils')

    compileOnly 'net.md-5:bungeecord-api:1.19-R0.1-SNAPSHOT'
    compileOnly('net.kyori:adventure-platform-bungeecord:4.3.0') {
        exclude(module: 'adventure-bom')
        exclude(module: 'adventure-api')
        exclude(module: 'adventure-nbt')
    }
}

shadowJar {
    archiveFileName = 'cellbots-bungee.jar'

    dependencies {
        include(dependency('com.zemise.cellsbot:.*'))
    }

    relocate 'net.md-5', 'com.zemise.cellsbot.lib.md-5'
}

artifacts {
    archives shadowJar
}

jar {
    manifest {
        attributes 'Main-Class': 'com.zemise.cellsbot.Test'
    }

}